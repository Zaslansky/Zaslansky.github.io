<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title></title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style type="text/css">
  /*
   * I add this to html files generated with pandoc.
   * Originally from https://gist.github.com/killercup/5917178
   */

  html {
      overflow-y: scroll;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
  }

  body {
      color: #444;
      font-family: "Source Sans 3", Helvetica-Neue, Helvetica, Sans;
      line-height: 1.5;
      padding: 0.5em;
      margin: auto;
      max-width: 55em;
      background: #fefefe;
  }

  a {
      color: #2171b5;
      text-decoration: underline;
  }

  tr:nth-child(even) {background: #F8F8F8}
  tr:nth-child(odd) {background: #FFF}

  a:visited {
      color: #2171b5;
      text-decoration: none;
  }

  a:focus {
      outline: thin dotted;
  }

  *::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000;
  }

  *::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000;
  }

  a::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad;
  }

  a::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad;
  }

  p {
      margin: 0.75em 0;
  }

  img {
      max-width: 60%;
      max-height:400px;
  }

  video {
      max-width: 60%;
  }


  h1, h2, h3, h4, h5, h6 {
      color: #111;
      line-height: 80%;
      margin-top: 1em;
      margin-bottom: 0.5em;
      font-weight: normal;
  }

  h1, h2, h3, h4, h5, h6 {
      font-weight: bold;
  }

  h1 {
      font-size: 2em;
      line-height: 1.25;
      color:  #084594;

  }

  h1.title {
      margin-top:0.2em;
      font-size: 2em;
      line-height: 1.25;
  }

  h2 {
      font-size: 1.5em;
      line-height: 1.6em;
          color:  #084594;
      padding-bottom: 3px;

  }

  h3 {
      font-size: 1.2em;
      line-height: 1.6em;
  }


  h4 {
      font-size: 1.2em;
      line-height: 1.4em;
  }

  h5 {
      font-size: 1em;
  }

  h6 {
      font-size: 0.9em;
  }

  blockquote {
      color: #666666;
      margin: 0;
      padding-left: 3em;
      border-left: 0.5em #EEE solid;
  }

  hr {
      display: block;
      height: 2px;
      border: 0;
      border-top: 1px solid #aaa;
      border-bottom: 1px solid #eee;
      margin: 0.5em 0;
      padding: 0;
  }

  pre, code, kbd, samp {
      color: #000;
      font-family: monospace, monospace;
      _font-family: 'courier new', monospace;
      font-size: 0.98em;
  }

  pre {
      white-space: pre;
      white-space: pre-wrap;
      word-wrap: break-word;
  }

  .answer {
      color:#CC0033;
      font-style:italic;
  }

  b, strong {
      font-weight: bold;
  }

  dfn {
      font-style: italic;
  }

  ins {
      background: #ff9;
      color: #000;
      text-decoration: none;
  }

  mark {
      background: #ff0;
      color: #000;
      font-style: italic;
      font-weight: bold;
  }

  sub, sup {
      font-size: 75%;
      line-height: 0;
      position: relative;
      vertical-align: baseline;
  }

  sup {
      top: -0.5em;
  }

  sub {
      bottom: -0.25em;
  }

  ul, ol {
      margin: 0.5em 0;
      padding: 0em 0em 0em 1em;
  }

  ul img {
      list-style-type: none;
  }

  li p:last-child {
      margin-bottom: 0;
  }

  hr {
      border-top:none;
      height:0px;
      clear:both;
  }

  ul ul, ol ol {
      margin: .3em 0;
  }

  dl {
      margin-bottom: 1em;
  }

  dt {
      font-weight: bold;
      margin-bottom: .8em;
  }

  dd {
      margin: 0 0 .8em 2em;
  }

  dd:last-child {
      margin-bottom: 0;
  }

  img {
      border: 0;
      -ms-interpolation-mode: bicubic;
      vertical-align: middle;
  }

  figure {
      display: block;
      text-align: center;
      margin: 1em 0;
  }

  figure img {
      border: none;
      margin: 0 auto;
  }

  figcaption {
      font-size: 0.8em;
      font-style: italic;
      margin: 0 0 .8em;
  }

  table {
      margin-bottom: 2em;
      border-bottom: 1px solid #ddd;
      border-right: 1px solid #ddd;
      border-spacing: 0;
      border-collapse: collapse;
  }

  table th {
      padding: .2em 1em;
      background-color: #eee;
      border-top: 1px solid #ddd;
      border-left: 1px solid #ddd;
  }

  table td {
      padding: .2em 1em;
      border-top: 1px solid #ddd;
      border-left: 1px solid #ddd;
      vertical-align: top;
  }

  .author {
      font-size: 1.2em;
      text-align: center;
  }

  @media only screen and (min-width: 480px) {
      body {
  	font-size: 14px;
      }
  }
  @media only screen and (min-width: 768px) {
      body {
  	font-size: 16px;
      }
  }
  @media print {
      * {
  	background: transparent !important;
  	color: black !important;
  	filter: none !important;
  	-ms-filter: none !important;
      }

      body {
  	font-size: 12pt;
  	max-width: 100%;
      }

      a, a:visited {
  	text-decoration: underline;
      }

      hr {
  	height: 1px;
  	border: 0;
  	border-bottom: 1px solid black;
      }

      a[href]:after {
  	content: " (" attr(href) ")";
      }

      abbr[title]:after {
  	content: " (" attr(title) ")";
      }

      .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
  	content: "";
      }

      pre, blockquote {
  	border: 1px solid #999;
  	padding-right: 1em;
  	page-break-inside: avoid;
      }

      tr, img {
  	page-break-inside: avoid;
      }

      img {
  	max-width: 40% !important;
      max-height: 300px !important;
      }

      @page :left {
  	margin: 15mm 20mm 15mm 10mm;
      }

      @page :right {
  	margin: 15mm 10mm 15mm 20mm;
      }

      p, h2, h3 {
  	orphans: 3;
  	widows: 3;
      }

      h2, h3 {
  	page-break-after: avoid;
      }
  }


  ldata {
  	font-size: 0.7em;
  	margin-bottom: 0em;
  	color:#808080;
  	font-style:italic;
  }

  danger {
  	color:#FF0000;
  	font-weight:bold;
  }

  correct {
  	color:#39C900;
  	font-weight:bold;
  }

  clg{
      color:#39C900;
  	font-weight:bold;
  }

  clr{
  	color:#FF0000;
  	font-weight:bold;
  }

  clb{
  	color:#0000CC;
  	font-weight:bold;
  }

  clp{
  	color:#6600FF;
  	font-weight:bold;
  }

  clk{
  	color:#708cef;
  	font-weight:bold;
  }

  clo{
  	color:#CC6600;
  	font-weight:bold;
  }

  sc{
          font-variant: small-caps;
  }

  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="resynthesis">Resynthesis</h1>
<h3 id="will-styler---lign-168">Will Styler - LIGN 168</h3>
<hr />
<h3 id="first-one-quick-concept-to-learn">First, one quick concept to
learn</h3>
<hr />
<h3 id="the-weak-form-of-the-navier-stokes-equations">The Weak form of
the Navier-Stokes Equations</h3>
<ul>
<li><p>Useful for describing fluid movement (as in the vocal
tract)</p></li>
<li><p><img class="r-stretch" src="img/weak_navier_stokes.png"></p></li>
</ul>
<hr />
<h3 id="lol-jk">Lol jk</h3>
<ul>
<li><p>This is an apology</p></li>
<li><p>… and room for questions from last time</p></li>
</ul>
<hr />
<h3 id="now-back-to-the-actual-course-material">Now back to the actual
course material</h3>
<hr />
<h3 id="now-weve-got-the-source-and-filter">Now we’ve got the Source and
Filter</h3>
<ul>
<li><p>Pitch-finding techniques give us the frequency and
characteristics of the source</p></li>
<li><p>LPC gives us the filter which is applied to the source</p></li>
<li><p>Both are matrices of numbers, which are easy to modify</p></li>
<li><p><strong>What can we do with that information?</strong></p></li>
</ul>
<hr />
<h3 id="resynthesis-1">Resynthesis</h3>
<ul>
<li><p>Turning speech into a computational numerical representation, and
then back to speech again</p></li>
<li><p>We have Speech-to-Text, Text-to-Speech</p></li>
<li><p>This is Speech-to-Speech!</p></li>
</ul>
<hr />
<h3 id="todays-plan">Today’s Plan</h3>
<ul>
<li><p>Modifying Pitch and Speed</p></li>
<li><p>Modifying Pitch and/or Speed</p></li>
<li><p>Source-Filter Resynthesis</p></li>
<li><p>The Dumbest and Most Exotic Voice Modification</p></li>
</ul>
<hr />
<h2 id="modifying-pitch-and-speed">Modifying Pitch and Speed</h2>
<hr />
<h3 id="its-very-easy-to-modify-pitch-and-speed">It’s very easy to
modify pitch <em>and</em> speed</h3>
<ul>
<li><p>Play the samples back at a different rate!</p></li>
<li><p>Decrease the speed of playing samples to slow the sound down</p>
<ul>
<li>“Treat a 44,100Hz recording like it was 22,050”</li>
<li>Playing back 44,100 samples will take two seconds, instead of
one</li>
</ul></li>
<li><p>Increase the speed of playing samples to speed sound up</p>
<ul>
<li>“Treat a 44,100Hz recording like it was 88,200”</li>
<li>Playing back 44,100 samples will take 0.5 seconds, instead of
one</li>
</ul></li>
<li><p><em>This is different from resampling, as we’re not adding or
removing any points!</em></p></li>
</ul>
<hr />
<h3 id="increasing-playback-speed">Increasing Playback Speed</h3>
<p>Base (00:08)
<audio controls src="phonmedia/psola/rainbow_base.mp3"></audio></p>
<p>0.9x (00:07)
<audio controls src="phonmedia/psola/rainbow_speed0point9.mp3"></audio></p>
<p>0.75x (00:06)
<audio controls src="phonmedia/psola/rainbow_speed0point75.mp3"></audio></p>
<p>0.5x (00:04)
<audio controls src="phonmedia/psola/rainbow_speed0point5.mp3"></audio></p>
<p>0.25x (00:02)
<audio controls src="phonmedia/psola/rainbow_speed0point25.mp3"></audio></p>
<p>0.1x (00:00:81)
<audio controls src="phonmedia/psola/rainbow_speed0point1.mp3"></audio></p>
<hr />
<h3 id="decreasing-playback-speed">Decreasing Playback Speed</h3>
<p>Base (00:08)
<audio controls src="phonmedia/psola/rainbow_base.mp3"></audio></p>
<p>1.1x (00:09)
<audio controls src="phonmedia/psola/rainbow_speed1point1.mp3"></audio></p>
<p>1.5x (00:12)
<audio controls src="phonmedia/psola/rainbow_speed1point5.mp3"></audio></p>
<p>2x (00:16)
<audio controls src="phonmedia/psola/rainbow_speed2point0.mp3"></audio></p>
<p>3x (00:24)
<audio controls src="phonmedia/psola/rainbow_speed3point0.mp3"></audio></p>
<p>4x (00:32)
<audio controls src="phonmedia/psola/rainbow_speed4point0.mp3"></audio></p>
<hr />
<h3 id="when-you-speed-up-playback-pitches-go-up">When you speed up
playback, pitches go up</h3>
<ul>
<li><p>The period changes when you play cycles back faster, so we
perceive a higher pitch</p></li>
<li><p>This affects <em>all</em> frequencies, not just voiced
portions</p></li>
<li><p>This is useful for making ents and chipmunks</p>
<ul>
<li>Also <a href="https://www.youtube.com/watch?v=CMrfM711vXI">the best
non-cover cover of ‘Jolene’</a></li>
</ul></li>
<li><p><em>When most people play with pitch or duration, they’d rather
be…</em></p></li>
</ul>
<hr />
<h2 id="modifying-pitch-or-speed">Modifying Pitch <em>OR</em> Speed</h2>
<hr />
<h3
id="can-we-change-duration-independent-of-frequency-and-vice-versa">Can
we change duration independent of frequency, and vice versa?</h3>
<ul>
<li><p>This is a much harder to do!</p></li>
<li><p>Luckily, there’s an algorithm for that!</p></li>
</ul>
<hr />
<h3 id="time-domain-pitch-synchronous-overlap-add-td-psola">Time-Domain
Pitch-Synchronous Overlap-Add (TD-PSOLA)</h3>
<ul>
<li><p>An algorithm which permits you to modify the duration or pitch of
a voice, <em>independently of one another</em></p>
<ul>
<li>First described by <a
href="https://www.sciencedirect.com/science/article/abs/pii/016763939090021Z">Moulines
and Charpentier in 1990</a></li>
</ul></li>
<li><p>There is a whole family of related algorithms for doing this,
each with nuances, but we’re talking generally about the concept, and
simplifying some</p></li>
<li><p>This can be used to modify pitch, or duration!</p></li>
<li><p><strong>Again, we’re focusing on intuitions over math, and doing
some black-boxing</strong></p></li>
</ul>
<hr />
<h3 id="the-psola-process-for-changing-pitch">The PSOLA Process for
Changing Pitch</h3>
<ul>
<li><p>Find the f0 of the signal and identify periods</p></li>
<li><p>Segment the sound into ‘grains’ with a <em>filter</em>, so that
the edges smooth to zero</p></li>
<li><p>Overlap the grains more tightly to increase pitch, or more
loosely to reduce pitch</p></li>
<li><p>Duplicate or remove grains to keep constant duration</p></li>
<li><p>Collapse the overlapped grains down into one signal</p></li>
</ul>
<hr />
<h3 id="finding-periods">Finding Periods</h3>
<p><img class="r-stretch" src="phonmedia/psola_cycles.png"></p>
<hr />
<h3 id="filtering-overlapping">Filtering, Overlapping</h3>
<p><img class="r-stretch" src="phonmedia/psola_process.png"></p>
<hr />
<h3 id="duplicating-cycles">Duplicating Cycles</h3>
<p><img class="r-stretch" src="phonmedia/psola_dupes.png"></p>
<hr />
<h3 id="adding-the-grains-together">Adding the grains together</h3>
<p><img class="r-stretch" src="phonmedia/psola_process.png"></p>
<hr />
<h3 id="thus-we-can-change-f0-without-changing-the-duration">Thus, we
can change f0, without changing the duration</h3>
<ul>
<li><p>Overlap the grains more tightly to increase pitch</p></li>
<li><p>Overlap the grains more loosely to decrease pitch</p></li>
<li><p>Add or remove grains to keep duration constant</p></li>
<li><p>Then add it all up to the final sound!</p></li>
</ul>
<hr />
<h3 id="increasing-f0-using-psola">Increasing f0 using PSOLA</h3>
<p>1x
<audio controls src="phonmedia/psola/rainbow_pitchbase.mp3"></audio></p>
<p>1.2x
<audio controls src="phonmedia/psola/rainbow_pitch1point2.mp3"></audio></p>
<p>2x
<audio controls src="phonmedia/psola/rainbow_pitch2point0.mp3"></audio></p>
<p>3x
<audio controls src="phonmedia/psola/rainbow_pitch3point0.mp3"></audio></p>
<p>4x
<audio controls src="phonmedia/psola/rainbow_pitch4point0.mp3"></audio></p>
<p>5x
<audio controls src="phonmedia/psola/rainbow_pitch5point0.mp3"></audio></p>
<hr />
<h3 id="decreasing-f0-using-psola">Decreasing f0 using PSOLA</h3>
<p>1x
<audio controls src="phonmedia/psola/rainbow_pitchbase.mp3"></audio></p>
<p>0.9x
<audio controls src="phonmedia/psola/rainbow_pitch0point9.mp3"></audio></p>
<p>0.75x
<audio controls src="phonmedia/psola/rainbow_pitch0point75.mp3"></audio></p>
<p>0.65x
<audio controls src="phonmedia/psola/rainbow_pitch0point65.mp3"></audio></p>
<hr />
<h3 id="we-can-see-the-process-in-the-resulting-waveforms-unmodified">We
can see the process in the resulting waveforms (Unmodified)</h3>
<p><img class="r-stretch" src="phonmedia/psola_quantization_orig.png"></p>
<hr />
<h3 id="we-can-see-the-process-in-the-resulting-waveforms-f0-x5">We can
see the process in the resulting waveforms (f0 x5)</h3>
<p><img class="r-stretch" src="phonmedia/psola_quantization.png"></p>
<hr />
<h3 id="we-can-modify-just-duration-too">We can modify <em>just</em>
duration, too!</h3>
<ul>
<li><p>Find the f0 of the signal and identify periods</p></li>
<li><p>Segment the sound into ‘grains’ with a <em>filter</em>, so that
the edges smooth to zero</p></li>
<li><p>Keep the grain-spacing the same (thus preserving f0)</p></li>
<li><p>Duplicate or remove grains to increase the duration</p></li>
<li><p>Collapse the overlapped grains down into one signal</p></li>
</ul>
<hr />
<h3 id="decreasing-duration-using-psola">Decreasing Duration using
PSOLA</h3>
<p>Base (00:08)
<audio controls src="phonmedia/psola/rainbow_base.mp3"></audio></p>
<p>0.75x (00:06)
<audio controls src="phonmedia/psola/rainbow_point75x.mp3"></audio></p>
<p>0.5x (00:04)
<audio controls src="phonmedia/psola/rainbow_point5x.mp3"></audio></p>
<p>0.25x (00:02)
<audio controls src="phonmedia/psola/rainbow_point25x.mp3"></audio></p>
<p>0.1x (00:00:81)
<audio controls src="phonmedia/psola/rainbow_point1x.mp3"></audio></p>
<hr />
<h3 id="increasing-duration-using-psola">Increasing Duration using
PSOLA</h3>
<p>Base (00:08)
<audio controls src="phonmedia/psola/rainbow_base.mp3"></audio></p>
<p>1.1x (00:09)
<audio controls src="phonmedia/psola/rainbow_1point1x.mp3"></audio></p>
<p>1.5x (00:12)
<audio controls src="phonmedia/psola/rainbow_1point5x.mp3"></audio></p>
<p>2x (00:16)
<audio controls src="phonmedia/psola/rainbow_2point0x.mp3"></audio></p>
<p>3x (00:24)
<audio controls src="phonmedia/psola/rainbow_3point0x.mp3"></audio></p>
<p>4x (00:32)
<audio controls src="phonmedia/psola/rainbow_4point0x.mp3"></audio></p>
<p>15x (2:00)
<audio controls src="phonmedia/psola/rainbow_15point0x.mp3"></audio></p>
<hr />
<h3 id="this-preserves-interpretability">This preserves
interpretability!</h3>
<p>4x PSOLA (00:32)
<audio controls src="phonmedia/psola/rainbow_4point0x.mp3"></audio></p>
<p>4x Playback (00:32)
<audio controls src="phonmedia/psola/rainbow_speed4point0.mp3"></audio></p>
<p>0.5x PSOLA (00:04)
<audio controls src="phonmedia/psola/rainbow_point5x.mp3"></audio></p>
<p>0.5x Playback (00:04)
<audio controls src="phonmedia/psola/rainbow_speed0point5.mp3"></audio></p>
<hr />
<h3 id="you-can-manipulate-duration-and-pitch-at-once">You can
manipulate Duration and Pitch at once</h3>
<p>“Make this sentence 1.5x slower, while raising the pitch 1.5x”</p>
<p>Base Pitch and Duration
<audio controls src="phonmedia/psola/rainbow_base.mp3"></audio></p>
<p>1.5x Pitch and Duration
<audio controls src="phonmedia/psola/rainbow_both1point5.mp3"></audio></p>
<hr />
<h3 id="there-is-a-lot-of-complexity-to-do-psola-right">There is a
<em>lot</em> of complexity to do PSOLA right</h3>
<ul>
<li><p>You need a good, reliable pitch track</p>
<ul>
<li>Creak or aperiodicity make this hard</li>
<li>All the problems from last time apply</li>
</ul></li>
<li><p>PSOLA for non-periodic sounds is tough</p>
<ul>
<li>You can grab repeated-feeling grains of a fricative and do your
best</li>
</ul></li>
<li><p>You need to filter precisely so that they add smoothly</p></li>
<li><p>You need to make sure the added segments are <em>in the correct
phase</em></p></li>
</ul>
<hr />
<h3 id="there-is-a-lot-of-complexity-to-do-psola-right-continued">There
is a <em>lot</em> of complexity to do PSOLA right (continued)</h3>
<ul>
<li><p>You need to make sure that <em>individual harmonics still
align</em></p></li>
<li><p>You need to choose which grains to add or delete</p></li>
<li><p>You need even fancier approaches where there’s more than one f0
(e.g. two voices or instruments)</p></li>
</ul>
<hr />
<h3 id="psola-is-not-perfect">PSOLA is not perfect</h3>
<ul>
<li><p>There will be artifacting, increasing with the amount of
change</p></li>
<li><p>It will miss cycles and leave some bits sounding ‘wrong’</p></li>
<li><p>There are limits as to the amount of (good-sounding) possible
change</p></li>
<li><p><strong>But on the whole, it works pretty damned
well!</strong></p></li>
<li><p>… and it’s used all the time under a different name</p></li>
</ul>
<hr />
<h3 id="autotune">Autotune</h3>
<ul>
<li><p>An algorithm developed by Andy Hildebrand and marketed in
1997</p>
<ul>
<li>Currently sold by Antares Audio Technology</li>
</ul></li>
<li><p>Uses an approach similar to PSOLA to resynthesize voices</p></li>
<li><p>Automatically ‘corrects’ pitch to hit a certain target</p>
<ul>
<li>Can be used to ‘fix’ <a
href="https://en.wikipedia.org/wiki/Paris_(Paris_Hilton_album)">imprecise
vocals</a></li>
<li>Can also be used to artistic ends (e.g. <a
href="https://www.youtube.com/watch?v=Lt2wjJlP2N4">T-Pain</a> or Cher’s
<a href="https://www.youtube.com/watch?v=nZXRV4MezEw">Believe</a>)</li>
<li>Can also be used to <a
href="https://www.youtube.com/watch?v=3eooXNd0heM">Autotune the
News</a></li>
</ul></li>
</ul>
<hr />
<h3 id="chers-believe">Cher’s ‘Believe’</h3>
<ul>
<li><p>Released in 1998 (one year after Autotune)</p></li>
<li><p>Autotune was briefly known as ‘the Cher Effect’</p></li>
<li><audio controls src="video/cher_believe.mp3">
</audio></li>
</ul>
<hr />
<h3 id="cool-we-can-change-the-source">Cool! We can change the
source!</h3>
<ul>
<li>… but what about the filter?</li>
</ul>
<hr />
<h2 id="source-filter-resynthesis">Source-Filter Resynthesis</h2>
<hr />
<h3 id="psola-modifies-the-signal-as-a-whole">PSOLA modifies the signal
as a whole</h3>
<ul>
<li><p>“We’re going to change f0 or duration, but try not to muck up the
rest of the spectral information”</p></li>
<li><p>Harmonic matching and careful blending mean it’s usually pretty
successful</p></li>
<li><p><em>But PSOLA doesn’t make any effort to disentangle the source
and filter!</em></p>
<ul>
<li><em>… and it sure can’t change the filter independently of the
source</em></li>
</ul></li>
</ul>
<hr />
<h3
id="can-we-resynthesize-in-a-way-that-preserves-that-independence">Can
we resynthesize in a way that preserves that independence?</h3>
<ul>
<li><strong>Yes, with ‘Source Filter Resynthesis’</strong>
<ul>
<li>Also called ‘LPC Resynthesis’ in the literature</li>
</ul></li>
<li>It is very simple, conceptually
<ul>
<li>Model the Source and Filter, Modify either, and then Recombine
them</li>
</ul></li>
<li>It uses only concepts you already understand!</li>
</ul>
<hr />
<h3 id="modeling-the-source-and-filter">Modeling the Source and
Filter</h3>
<ul>
<li>Numerically model the source
<ul>
<li>What’s the pitch like?<br />
</li>
<li>Where is there voicing?</li>
<li><strong>This is voicing and pitch detection!</strong></li>
</ul></li>
<li>Numerically model the filter
<ul>
<li>What’s the rest of the spectral envelope like?</li>
<li>How does it change over time?</li>
<li><strong>This is LPC analysis!</strong></li>
</ul></li>
</ul>
<hr />
<h3 id="now-you-have-models-for-the-source-and-filter">Now you have
models for the source and filter</h3>
<ul>
<li>You can modify the source independently
<ul>
<li>“Let’s increase f0 by 20%!”</li>
<li>Then you can synthesize a source</li>
<li>Voiceless bits can be modeled as white noise</li>
</ul></li>
<li>You can also modify the filter independently
<ul>
<li>“Let’s move the first formant up by 100Hz”</li>
<li>This gives you a new filter</li>
</ul></li>
<li>Then you apply the filter directly to the source
<ul>
<li>This is basic math!</li>
</ul></li>
<li><strong>Now you have a sound signal reflecting the
modification!</strong></li>
</ul>
<hr />
<h3 id="lpc-resynthesis-can-be-used-to-modify-the-pitch">LPC Resynthesis
can be used to modify the pitch!</h3>
<p><strong>DO NOT USE LPC RESYNTHESIS TO MODIFY PITCH</strong></p>
<p>Unmodified
<audio controls src="phonmedia/psola/rainbow_base.mp3"></audio></p>
<p>1x f0 LPC
<audio controls src="phonmedia/psola/rainbow_lpcpitch1point0.mp3"></audio></p>
<p>1.5x f0 PSOLA
<audio controls src="phonmedia/psola/rainbow_pitch1point5.mp3"></audio></p>
<p>1.5x f0 LPC
<audio controls src="phonmedia/psola/rainbow_lpcpitch1point5.mp3"></audio></p>
<p>0.65x f0 PSOLA
<audio controls src="phonmedia/psola/rainbow_pitch0point65.mp3"></audio></p>
<p>0.65x f0 LPC
<audio controls src="phonmedia/psola/rainbow_lpcpitch0point65.mp3"></audio></p>
<hr />
<h3 id="lpc-resynthesis-can-change-the-nature-of-the-filter">LPC
Resynthesis can change the nature of the filter!</h3>
<ul>
<li><p>This is how phoneticians modify formants when creating
stimuli!</p></li>
<li><p>Separate the source from the filter via Inverse
Filtering</p></li>
<li><p>Modify the LPC, and then recombine!</p></li>
<li><p>You can change formant frequency, or bandwidth!</p></li>
<li><p>My Praat Handbook explains the process in 8.15</p></li>
</ul>
<hr />
<h3 id="heres-a-nice-continuum">Here’s a nice continuum</h3>
<p>Date <audio controls src="phonmedia/date1.mp3"></audio></p>
<p>Debt <audio controls src="phonmedia/date12.mp3"></audio></p>
<p>11 Steps
<audio controls src="phonmedia/date_debt_11_steps.mp3"></audio></p>
<hr />
<h3 id="date-debt-continuum">Date-Debt Continuum</h3>
<p><img class="r-stretch" src="phonmedia/datedebtspectrogram.png"></p>
<hr />
<h3 id="this-is-amazing">This is amazing!</h3>
<ul>
<li><p>It’s the very best way to change the quality of vowels and
otherwise</p></li>
<li><p>It allows you to test hypotheses about filter shapes</p></li>
<li><p>It gives you incredible freedom to modify voices</p></li>
<li><p>There’s just one problem…</p></li>
</ul>
<hr />
<h3 id="source-filter-resynthesis-sucks">Source Filter Resynthesis
Sucks</h3>
<ul>
<li><p>When you have a problem, and you decide to use LPC resynthesis,
you have two problems</p></li>
<li><p>It’s common not to be able to ‘make the change’</p>
<ul>
<li>If you don’t do the inverse-filter properly, some of the filter
sticks around</li>
</ul></li>
<li><p>Noise and artifacts are everywhere</p>
<ul>
<li>You need to resample to do it properly</li>
<li>You can modify part of the sound (e.g. the bottom 3500 Hz) and
recombine with the rest</li>
</ul></li>
<li><p>You need to double check every stimulus to make sure it’s doing
what you think it is</p></li>
<li><p><strong>Come talk to me if you ever start down this dark
road</strong></p></li>
</ul>
<hr />
<h3 id="lpc-resynthesis-shows-every-error-in-the-chain">LPC Resynthesis
shows every error in the chain!</h3>
<ul>
<li><p>All the error in pitch estimation</p></li>
<li><p>All the error in LPC estimation</p></li>
<li><p>Any error in the math or changes to the relevant
formants</p></li>
<li><p>This requires the errors to be modeled to sound clean!</p>
<ul>
<li>We can’t do this for modifying the sounds</li>
<li>LPC Resynthesis for voice compression models the error
explicitly</li>
</ul></li>
</ul>
<hr />
<h3 id="lpc-resynthesis-struggles-to-sound-normal-and-human">LPC
Resynthesis struggles to sound ‘normal’ and ‘human’</h3>
<ul>
<li><p>You’ll often get ‘robotic’ voices who don’t sound like the person
they were</p></li>
<li><p>Bad modeling can create clicks and whistles</p></li>
<li><p>It sounds a lot like a bad cell phone call from the early
2000s</p>
<ul>
<li>We’ll talk more about why soon!</li>
</ul></li>
<li><p>… but it’s great at making somebody sound non-human!</p>
<ul>
<li>There it’s called…</li>
</ul></li>
</ul>
<hr />
<h3 id="musical-vocoding">Musical Vocoding</h3>
<ul>
<li><p>You don’t have to use a human source with the extracted
filter</p></li>
<li><p>You can use any sound you’d like as the ‘source’</p>
<ul>
<li>Including a synthesizer!</li>
</ul></li>
</ul>
<hr />
<h3 id="daft-punk">Daft Punk</h3>
<p><img class="r-stretch" src="people/daft_punk.jpg"></p>
<hr />
<h3 id="daft-punk-led-the-way-in-vocoder-use">Daft Punk led the way in
Vocoder Use</h3>
<p>Harder, Better, Faster, Stronger (from ‘Discovery’)</p>
<audio controls src="video/harderbetterfasterstronger.mp3">
</audio>
<p>Doin’ it Right (from ‘Random Access Memories’)</p>
<audio controls src="video/doin_it_right.mp3">
</audio>
<hr />
<h3 id="vocoders-are-common-and-awesome">Vocoders are common and
awesome</h3>
<ul>
<li>They’re different from ‘talk boxes’
<ul>
<li>Those use a tube to direct an instrument’s output into a person’s
physical mouth</li>
</ul></li>
<li>They’re often based on LPC synthesis!
<ul>
<li>… and they’re the place where LPC synthesis is most fun!</li>
</ul></li>
</ul>
<hr />
<h2 id="the-dumbest-and-most-exotic-voice-modification">The Dumbest and
Most Exotic Voice Modification</h2>
<hr />
<h3 id="jocelyn-pooks-masked-ball">Jocelyn Pook’s ‘Masked Ball’</h3>
<ul>
<li><p>Written for a pivotal scene in Stanley Kubrick’s ‘Eyes Wide Shut’
(1999)</p>
<ul>
<li>This movie is VERY Not-Safe-For-Work, and very good</li>
</ul></li>
<li><audio controls src="video/pook_maskedball_forwards.mp3">
</audio></li>
<li><audio controls src="video/pook_maskedball_reversed.mp3">
</audio></li>
<li><p>Actually just a Romanian Orthodox Priest singing, but
reversed</p>
<ul>
<li>Zisa Domnului catre ucenicii sai…Porunca noua dau voua</li>
<li>And God told to his apprentices…I gave you a command.</li>
</ul></li>
</ul>
<hr />
<h3 id="reversal">Reversal!</h3>
<ul>
<li><p>You can get neat effects by just reversing audio</p></li>
<li><p>Lots of musicians play with this</p>
<ul>
<li>Jocelyn Pook is great at this, see also ‘Yellow Fever Psalm’</li>
</ul></li>
<li><p>Also called ‘Backmasking’ when you hide reversed
messages</p></li>
<li><p><a href="https://www.youtube.com/watch?v=U4FNBMZsqrY">Mick
Gordon, the Composer of DOOM (2016) is a gigantic troll</a></p>
<ul>
<li>The relevant part starts around 40 minutes in, but the whole thing
is worth watching</li>
</ul></li>
</ul>
<hr />
<h3 id="wrapping-up">Wrapping up</h3>
<ul>
<li><p>Modifying pitch <em>and</em> duration is really easy</p></li>
<li><p>PSOLA is really valuable for modifying pitch <em>and/or</em>
duration</p></li>
<li><p>PSOLA is really complicated</p></li>
<li><p>Source-Filter Resynthesis allows you to modify just the filter of
a word</p></li>
<li><p>Source-Filter Resynthesis sucks for everybody but Daft
Punk</p></li>
<li><p>!stceffe taen yllaer sevig hceeps gnisreveR</p></li>
</ul>
<hr />
<h3 id="next-time">Next time</h3>
<ul>
<li>How can we modify speech signals to clean them up?</li>
</ul>
<hr />
<p><huge>Thank you!</huge></p>
</body>
</html>
