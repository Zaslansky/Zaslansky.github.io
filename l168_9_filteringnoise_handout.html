<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title></title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style type="text/css">
  /*
   * I add this to html files generated with pandoc.
   * Originally from https://gist.github.com/killercup/5917178
   */

  html {
      overflow-y: scroll;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
  }

  body {
      color: #444;
      font-family: "Source Sans 3", Helvetica-Neue, Helvetica, Sans;
      line-height: 1.5;
      padding: 0.5em;
      margin: auto;
      max-width: 55em;
      background: #fefefe;
  }

  a {
      color: #2171b5;
      text-decoration: underline;
  }

  tr:nth-child(even) {background: #F8F8F8}
  tr:nth-child(odd) {background: #FFF}

  a:visited {
      color: #2171b5;
      text-decoration: none;
  }

  a:focus {
      outline: thin dotted;
  }

  *::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000;
  }

  *::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #000;
  }

  a::-moz-selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad;
  }

  a::selection {
      background: rgba(255, 255, 0, 0.3);
      color: #0645ad;
  }

  p {
      margin: 0.75em 0;
  }

  img {
      max-width: 60%;
      max-height:400px;
  }

  video {
      max-width: 60%;
  }


  h1, h2, h3, h4, h5, h6 {
      color: #111;
      line-height: 80%;
      margin-top: 1em;
      margin-bottom: 0.5em;
      font-weight: normal;
  }

  h1, h2, h3, h4, h5, h6 {
      font-weight: bold;
  }

  h1 {
      font-size: 2em;
      line-height: 1.25;
      color:  #084594;

  }

  h1.title {
      margin-top:0.2em;
      font-size: 2em;
      line-height: 1.25;
  }

  h2 {
      font-size: 1.5em;
      line-height: 1.6em;
          color:  #084594;
      padding-bottom: 3px;

  }

  h3 {
      font-size: 1.2em;
      line-height: 1.6em;
  }


  h4 {
      font-size: 1.2em;
      line-height: 1.4em;
  }

  h5 {
      font-size: 1em;
  }

  h6 {
      font-size: 0.9em;
  }

  blockquote {
      color: #666666;
      margin: 0;
      padding-left: 3em;
      border-left: 0.5em #EEE solid;
  }

  hr {
      display: block;
      height: 2px;
      border: 0;
      border-top: 1px solid #aaa;
      border-bottom: 1px solid #eee;
      margin: 0.5em 0;
      padding: 0;
  }

  pre, code, kbd, samp {
      color: #000;
      font-family: monospace, monospace;
      _font-family: 'courier new', monospace;
      font-size: 0.98em;
  }

  pre {
      white-space: pre;
      white-space: pre-wrap;
      word-wrap: break-word;
  }

  .answer {
      color:#CC0033;
      font-style:italic;
  }

  b, strong {
      font-weight: bold;
  }

  dfn {
      font-style: italic;
  }

  ins {
      background: #ff9;
      color: #000;
      text-decoration: none;
  }

  mark {
      background: #ff0;
      color: #000;
      font-style: italic;
      font-weight: bold;
  }

  sub, sup {
      font-size: 75%;
      line-height: 0;
      position: relative;
      vertical-align: baseline;
  }

  sup {
      top: -0.5em;
  }

  sub {
      bottom: -0.25em;
  }

  ul, ol {
      margin: 0.5em 0;
      padding: 0em 0em 0em 1em;
  }

  ul img {
      list-style-type: none;
  }

  li p:last-child {
      margin-bottom: 0;
  }

  hr {
      border-top:none;
      height:0px;
      clear:both;
  }

  ul ul, ol ol {
      margin: .3em 0;
  }

  dl {
      margin-bottom: 1em;
  }

  dt {
      font-weight: bold;
      margin-bottom: .8em;
  }

  dd {
      margin: 0 0 .8em 2em;
  }

  dd:last-child {
      margin-bottom: 0;
  }

  img {
      border: 0;
      -ms-interpolation-mode: bicubic;
      vertical-align: middle;
  }

  figure {
      display: block;
      text-align: center;
      margin: 1em 0;
  }

  figure img {
      border: none;
      margin: 0 auto;
  }

  figcaption {
      font-size: 0.8em;
      font-style: italic;
      margin: 0 0 .8em;
  }

  table {
      margin-bottom: 2em;
      border-bottom: 1px solid #ddd;
      border-right: 1px solid #ddd;
      border-spacing: 0;
      border-collapse: collapse;
  }

  table th {
      padding: .2em 1em;
      background-color: #eee;
      border-top: 1px solid #ddd;
      border-left: 1px solid #ddd;
  }

  table td {
      padding: .2em 1em;
      border-top: 1px solid #ddd;
      border-left: 1px solid #ddd;
      vertical-align: top;
  }

  .author {
      font-size: 1.2em;
      text-align: center;
  }

  @media only screen and (min-width: 480px) {
      body {
  	font-size: 14px;
      }
  }
  @media only screen and (min-width: 768px) {
      body {
  	font-size: 16px;
      }
  }
  @media print {
      * {
  	background: transparent !important;
  	color: black !important;
  	filter: none !important;
  	-ms-filter: none !important;
      }

      body {
  	font-size: 12pt;
  	max-width: 100%;
      }

      a, a:visited {
  	text-decoration: underline;
      }

      hr {
  	height: 1px;
  	border: 0;
  	border-bottom: 1px solid black;
      }

      a[href]:after {
  	content: " (" attr(href) ")";
      }

      abbr[title]:after {
  	content: " (" attr(title) ")";
      }

      .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
  	content: "";
      }

      pre, blockquote {
  	border: 1px solid #999;
  	padding-right: 1em;
  	page-break-inside: avoid;
      }

      tr, img {
  	page-break-inside: avoid;
      }

      img {
  	max-width: 40% !important;
      max-height: 300px !important;
      }

      @page :left {
  	margin: 15mm 20mm 15mm 10mm;
      }

      @page :right {
  	margin: 15mm 10mm 15mm 20mm;
      }

      p, h2, h3 {
  	orphans: 3;
  	widows: 3;
      }

      h2, h3 {
  	page-break-after: avoid;
      }
  }


  ldata {
  	font-size: 0.7em;
  	margin-bottom: 0em;
  	color:#808080;
  	font-style:italic;
  }

  danger {
  	color:#FF0000;
  	font-weight:bold;
  }

  correct {
  	color:#39C900;
  	font-weight:bold;
  }

  clg{
      color:#39C900;
  	font-weight:bold;
  }

  clr{
  	color:#FF0000;
  	font-weight:bold;
  }

  clb{
  	color:#0000CC;
  	font-weight:bold;
  }

  clp{
  	color:#6600FF;
  	font-weight:bold;
  }

  clk{
  	color:#708cef;
  	font-weight:bold;
  }

  clo{
  	color:#CC6600;
  	font-weight:bold;
  }

  sc{
          font-variant: small-caps;
  }

  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="filtering-and-noise-control">Filtering and Noise Control</h1>
<h3 id="will-styler---lign-168">Will Styler - LIGN 168</h3>
<hr />
<h3 id="we-now-know-what-speech-sounds-like">We now know what speech
sounds like</h3>
<ul>
<li><p>We know how to analyze it</p></li>
<li><p>We know how to measure it</p></li>
<li><p>Even how to modify it</p></li>
<li><p>… but all of that depends on having a good, clean signal</p></li>
</ul>
<hr />
<h3 id="the-world-is-noisy">The World is Noisy</h3>
<ul>
<li><p>Room echo and feedback</p></li>
<li><p>Typing and mouse clicks</p></li>
<li><p>Background clatter</p></li>
<li><p>Wind Noise</p></li>
<li><p><strong>Speech processes want to send the voice, not the
noise!</strong></p></li>
</ul>
<hr />
<h3 id="people-are-really-good-at-ignoring-noise">People are really good
at ignoring noise</h3>
<ul>
<li>How?</li>
</ul>
<hr />
<h3 id="filtering-out-noise-is-very-easy">Filtering out noise is very
easy</h3>
<ul>
<li><p>Set the signal to 0</p>
<ul>
<li><p>This will immediately remove all noise</p></li>
<li><p>… but it’s not going to preserve the signal particularly
well</p></li>
</ul></li>
<li><p>So, the question is <strong>how do we remove as much noise as we
can without harming the signal we care about?</strong></p></li>
<li><p>We’re going to talk about the ‘signal’, the ‘noise’, the ‘input’,
and the ‘output’</p></li>
</ul>
<hr />
<h3 id="how-do-we-do-this-computationally">How do we do this
computationally?</h3>
<ul>
<li>Well, that’s…</li>
</ul>
<hr />
<h3 id="todays-plan">Today’s Plan</h3>
<ul>
<li><p>Basic Filter Types</p></li>
<li><p>Filtering without Digital Signal Processing</p></li>
<li><p>Fancy Filtering</p></li>
<li><p>Avoiding the need for filtering</p></li>
<li><p>The Scourge of Clipping</p></li>
</ul>
<hr />
<h2 id="basic-filter-types">Basic Filter Types</h2>
<hr />
<h3 id="note-this-is-different-from-source-filter-filtering">Note: This
is different from ‘Source Filter’ filtering</h3>
<ul>
<li><p>Here, we’re talking signal processing</p></li>
<li><p>The filters are generally mathematical, rather than
resonance-based</p></li>
<li><p>Generally, we’re doing complete removal, not enhancement and
damping</p></li>
</ul>
<hr />
<h3 id="there-are-four-main-kinds-of-filters-well-describe">There are
four main kinds of filters we’ll describe</h3>
<ul>
<li><p><strong>High Pass</strong></p>
<ul>
<li>“Let frequencies higher than this pass”</li>
</ul></li>
<li><p><strong>Low Pass</strong></p>
<ul>
<li>“Let frequencies lower than this pass”</li>
</ul></li>
<li><p><strong>Band Pass</strong></p>
<ul>
<li>“Let frequencies in this band pass”</li>
</ul></li>
<li><p><strong>Band Stop</strong> (also ‘Band Reject’ and ‘Notch’)</p>
<ul>
<li>“Let only frequencies outside this band pass”</li>
</ul></li>
</ul>
<hr />
<p><img class="r-stretch" src="phonmedia/filtering.jpg"></p>
<hr />
<h3 id="filters-arent-perfect">Filters aren’t perfect</h3>
<ul>
<li><p>They always have a ‘cutoff’ and a ‘slope’</p>
<ul>
<li>This can be called ‘rejection rate’, but you’ll also hear
‘roll-off’</li>
</ul></li>
<li><p>The slope dictates how quickly sounds outside the cutoff are
attenuated</p></li>
<li><p><strong>There’s no such thing as a perfect filter in the
frequency domain</strong></p>
<ul>
<li>Where the slope is vertical</li>
</ul></li>
</ul>
<hr />
<h3 id="what-kind-of-filter-would-you-use-to">What kind of filter would
you use to…</h3>
<ul>
<li><p>Remove an annoying refrigerator noise at 350Hz</p></li>
<li><p>Get rid of all the information above 10kHz</p></li>
<li><p>Isolate the signal from 0 to 3000Hz</p></li>
<li><p>Remove a 3Hz fan noise</p></li>
<li><p>Extract 200 Hz around F1</p></li>
</ul>
<hr />
<h3 id="theres-a-lot-to-filter-theory">There’s a <em>lot</em> to filter
theory</h3>
<ul>
<li><p>Whole dissertations are made in improving the nature of
computational noise filters</p></li>
<li><p>There are interesting artifacts (‘ringing’) which pop up when
filters are poorly implemented, or when you’re trying to use edges that
are too sharp</p></li>
<li><p>You can combine multiple filters together to get fancier</p>
<ul>
<li>“Pass 0-100Hz, and two 1000Hz bands centered around 2k and 4k”</li>
</ul></li>
<li><p>Implementing these with digital logic is
<em>non-trivial</em></p></li>
<li><p><strong>But for now, know high pass, low pass, band pass, and
band stop</strong> and what they mean</p></li>
</ul>
<hr />
<h3 id="do-we-need-computers-to-do-this">… Do we need computers to do
this?</h3>
<hr />
<h2 id="filtering-without-digital-signal-processing">Filtering without
Digital Signal Processing</h2>
<hr />
<h3 id="filters-can-be-analog-or-digital">Filters can be analog or
digital</h3>
<ul>
<li><p>You can use analog electronic circuits to do filtering</p></li>
<li><p>Example: A capacitor and resistor, combined, allow high/low pass
filtering</p></li>
<li><p>Capacitors allow higher frequencies through, and block lower
frequencies</p>
<ul>
<li>The exact nature of the filtering depends on the capacitor</li>
<li>A signal passed through this kind of capacitor is high-passed</li>
</ul></li>
<li><p>You can also low-pass by effectively inverting this, and giving
the lower frequencies a separate path</p></li>
<li><p>This means that you don’t need computers to filter sound</p>
<ul>
<li>… and analog filters work in real time, without needing extra
power</li>
</ul></li>
</ul>
<hr />
<h3 id="filtering-can-be-accidental-too">Filtering can be accidental,
too!</h3>
<ul>
<li><p>No acoustical space or device is perfect</p></li>
<li><p>Rooms filter sound</p></li>
<li><p>Absorptive materials remove some frequencies and not
otherse</p></li>
<li><p>… but most relevant here…</p></li>
</ul>
<hr />
<h3 id="speakers-and-microphones-do-filtering">Speakers and Microphones
do filtering!</h3>
<ul>
<li><p>No microphone (or speaker) is perfect and responds
<em>linearly</em> throughout the entire frequency spectrum</p></li>
<li><p>Cheap, tiny, or highly durable microphones and speakers tend to
be worse</p>
<ul>
<li>Laptop microphones are often very bad, and introduce a lot of
non-linearity</li>
</ul></li>
</ul>
<hr />
<h3 id="shure-sm58">Shure SM58</h3>
<p><img class="r-stretch" src="phonmedia/mic_sm58_pic.jpg"></p>
<hr />
<h3 id="shure-sm58-frequency-response">Shure SM58 Frequency
Response</h3>
<p><img class="r-stretch" src="phonmedia/mic_sm58_response.jpg"></p>
<hr />
<h3 id="earthworks-m50">Earthworks M50</h3>
<p><img class="r-stretch" src="phonmedia/mic_ewm50_pic.jpg"></p>
<hr />
<h3 id="earthworks-m50-frequency-response">Earthworks M50 Frequency
Response</h3>
<p><img class="r-stretch" src="phonmedia/mic_ewm50_response.jpg"></p>
<hr />
<h3 id="apple-airpods-pro-speaker-frequency-response">Apple Airpods Pro
Speaker Frequency Response</h3>
<p><img class="r-stretch" src="phonmedia/speaker_airpodspro_response.png"></p>
<hr />
<h3 id="bowers-and-wilkins-801-d4">Bowers and Wilkins 801 D4</h3>
<p><img class="r-stretch" src="phonmedia/speaker_bw801D4_pic.jpg"></p>
<hr />
<h3 id="bowers-and-wilkins-801-d4-frequency-response">Bowers and Wilkins
801 D4 Frequency Response</h3>
<p><img class="r-stretch" src="phonmedia/speaker_bw801D4_response.jpg"></p>
<hr />
<h3 id="the-human-ear">The Human Ear</h3>
<ul>
<li><p>The ear canal and outer ear (pinna) filter the ear depending on
sound localization</p></li>
<li><p>The Pinna amplifies sounds centered around 3000Hz</p></li>
</ul>
<hr />
<h3 id="the-important-lesson-know-your-filters">The Important Lesson:
Know your filters!</h3>
<ul>
<li><p>You will (almost) never control every filter in the chain from
human to human</p></li>
<li><p>Changing microphones on the input may impact the performance of
your system</p></li>
<li><p>Garbage in, Garbage Out</p>
<ul>
<li>Garbage Out, Garbage Out too!</li>
</ul></li>
</ul>
<hr />
<h2 id="fancy-filtering-and-noise-reduction">Fancy Filtering and ‘Noise
Reduction’</h2>
<hr />
<h3 id="we-can-do-better-than-pass-and-stop-filters">We can do better
than pass and stop filters!</h3>
<ul>
<li><p>With modern digital signal processing, we can post-process sound
in smarter ways</p></li>
<li><p>We can work in both the <em>spectral</em> domain and the
<em>temporal</em> domain</p>
<ul>
<li>Not just isolating frequencies to block, but patterns of noise to
block</li>
</ul></li>
</ul>
<hr />
<h3 id="spectral-subtraction">Spectral Subtraction</h3>
<ul>
<li><p>“I know what the spectral shape of the noise is, so I’ll just
subtract that from the input!”</p></li>
<li><p>This requires you to <em>estimate</em> the spectral shape of the
noise accurately</p>
<ul>
<li>LPC!</li>
</ul></li>
<li><p>It also requires you to <em>designate</em> which noise you’re
dealing with right now</p>
<ul>
<li>… or to classify which noise is happening based on the input</li>
</ul></li>
<li><p>This is great if you have pre-determined noise types you know
you’re going to face</p></li>
</ul>
<hr />
<h3 id="spectral-subtraction-1">Spectral Subtraction</h3>
<p><img class="r-stretch" src="phonmedia/spectralsubtraction.png"></p>
<hr />
<h3 id="wiener-filtering">Wiener Filtering</h3>
<ul>
<li><p>“I’m going to estimate the spectral nature of the noise
<strong>and</strong> the signal, and then create a filter which
minimizes the difference between signal and estimate”</p></li>
<li><p>Uses statistical methods (mean squared error) to generate an
optimal set of filter coefficients which makes the signal look most like
what you think it should</p></li>
<li><p>It assumes the noise is invariant</p>
<ul>
<li>Although you can recalculate periodically, at computational
cost</li>
</ul></li>
<li><p>It requires some knowledge of the desired signal</p></li>
</ul>
<hr />
<h3 id="time-domain-adaptive-filtering">Time-Domain Adaptive
Filtering</h3>
<ul>
<li><p>Sometimes, noise varies predictibly in the <em>time
domain</em></p></li>
<li><p>“Well, I know the signal is unpredictable, but this noise seems
to be on a 5 Hz modulation cycle. Let’s design a quick filter which
removes the type of noise that cycles at 5 Hz”</p></li>
<li><p>This allows us to better estimate the nature of the noise and
filter it out</p></li>
<li><p>This presumes periodicity of modulation of the noise
source!</p></li>
</ul>
<hr />
<h3 id="deep-neural-network-filtering">Deep Neural Network
Filtering</h3>
<ul>
<li><p>“Let’s train a deep neural network model on a ton of clean
speech, so it knows what the signal looks like, and then have it
reconstruct the speech signal without the noise”</p></li>
<li><p>This is a <em>reconstructive process</em>, so it’s <em>adding
things to the input which weren’t originally present!</em></p></li>
<li><p>“Synthesize what this speech probably is without the
noise”</p></li>
<li><p>Different models are required for different kinds of
signals</p></li>
</ul>
<hr />
<h3 id="an-awkward-analogy">An awkward analogy</h3>
<p><img class="r-stretch" src="dalle/hidingkitten.jpg"></p>
<hr />
<h3
id="deep-neural-network-filtering-is-what-discord-and-others-use">Deep
Neural Network filtering is what Discord and others use</h3>
<ul>
<li><p>‘Krisp’ is using ‘AI’, which I presume means neural
models</p></li>
<li><p>Zoom is also using neural networks (possibly Krisp)</p></li>
<li><p>You can often “tune” the degree of noise cancellation</p>
<ul>
<li>“How much of the input are we mixing into the output of the NN”</li>
</ul></li>
</ul>
<hr />
<h3 id="difficulties-with-fancy-filtering">Difficulties with Fancy
Filtering</h3>
<ul>
<li><p>It’s slower and computationally more expensive</p>
<ul>
<li>This makes it harder on tiny or low-power devices</li>
</ul></li>
<li><p>They’re often trained on <em>specific types of noise</em></p>
<ul>
<li>‘Atypical Noise’ may be filtered less well</li>
</ul></li>
<li><p>The latency and time-to-start of filtration is harder to
control</p></li>
<li><p>When should we apply filtering if the noise and signal
overlap?</p></li>
<li><p>The amount of gain reduction</p>
<ul>
<li>Particularly when there’s valuable signal in similar
frequencies</li>
</ul></li>
</ul>
<hr />
<h3 id="difficulties-with-fancy-filtering-continued">Difficulties with
Fancy Filtering (Continued)</h3>
<ul>
<li><p>What bias are you introducing into your signal processing?</p>
<ul>
<li>This can adversely affect classes of phones found in languages
outside of the training data</li>
<li>“That sound isn’t found in the language I learned about, so it’s
noise!”</li>
</ul></li>
<li><p>Some meaningful signal may not be speech</p></li>
<li><p>Neural Network filtering is expensive, and is not guaranteed to
reconstruct exactly what was said</p></li>
<li><p><strong>All filtering is imperfect, and will either leave noise,
or take signal, or both!</strong></p>
<ul>
<li>This means…</li>
</ul></li>
</ul>
<hr />
<h3 id="the-best-filtering-is-no-filtering">The best filtering is no
filtering!</h3>
<ul>
<li>So how can we remove as much noise as we can before we get
started?</li>
</ul>
<hr />
<h2 id="avoiding-the-need-to-filter">Avoiding the need to filter</h2>
<hr />
<h3 id="microphone-placement">Microphone Placement</h3>
<ul>
<li><p>Put the microphone close to the thing which is producing the
signal you need</p></li>
<li><p>Try to put barriers between noise sources and the
microphone</p></li>
</ul>
<hr />
<h3 id="microphone-directionality">Microphone Directionality</h3>
<ul>
<li><p>Microphones have spatial patterns of response</p></li>
<li><p>“From which direction(s) does the microphone most readily pick up
sound?”</p></li>
<li><p>Choose the right response pattern for the job!</p></li>
</ul>
<hr />
<h3 id="polarity-patterns">Polarity Patterns</h3>
<p><img class="r-stretch" src="phonmedia/mic_polaritypatterns.jpg"></p>
<hr />
<h3 id="shure-sm58-polar-response">Shure SM58 Polar Response</h3>
<p><img class="r-stretch" src="phonmedia/mic_sm58_polarity.png"></p>
<hr />
<h3 id="earthworks-m50-polar-response">Earthworks M50 Polar
Response</h3>
<p><img class="r-stretch" src="phonmedia/mic_ewm50_polarity.jpg"></p>
<hr />
<h3 id="microphone-arrays">Microphone Arrays</h3>
<ul>
<li><p>Capture input from multiple microphones pointing towards and away
from the signal</p></li>
<li><p>Input that comes in on all mics is probably noise</p></li>
<li><p>Input that comes in strongest on the signal mic probably
signal</p></li>
<li><p><strong>Now use one of the other filtering methods with this
knowledge!</strong></p></li>
</ul>
<hr />
<h3 id="beamforming">Beamforming</h3>
<ul>
<li>Arrange omnidirectional microphones in a known, geometric
pattern</li>
</ul>
<hr />
<h3 id="a-beamforming-array">A Beamforming Array</h3>
<p><img class="r-stretch" src="phonmedia/mic_beamforming_array.jpg"></p>
<hr />
<h3 id="a-less-impressive-beamforming-array">A less impressive
Beamforming array</h3>
<p><img class="r-stretch" src="phonmedia/mic_echodot.jpg"></p>
<hr />
<h3 id="beamforming-1">Beamforming</h3>
<p>Arrange omnidirectional microphones in a known, geometric pattern</p>
<ul>
<li><p>Each microphone picks up all the sounds in the room</p></li>
<li><p>Signals from different directions arrive at different times to
different microphones</p>
<ul>
<li>… and at slightly different phases</li>
</ul></li>
<li><p>Signals are differentially weighted (via <em>wild</em> math) to
effectively target a particular direction containing desirable
signal</p>
<ul>
<li>This direction can be static or adaptive</li>
</ul></li>
<li><p>The summed output is now highly directional, and minimizes noise
sources from other directions</p></li>
</ul>
<hr />
<h3
id="all-of-these-methods-attempt-to-optimize-the-signal-to-noise-ratio-at-the-input">All
of these methods attempt to optimize the signal-to-noise ratio at the
input</h3>
<ul>
<li>… and they can combine with all the other methods we’ve
discussed</li>
</ul>
<hr />
<h3
id="theres-one-thing-that-none-of-these-methods-can-save-you-from">There’s
one thing that none of these methods can save you from</h3>
<hr />
<h2 id="clipping">Clipping</h2>
<ul>
<li><img class="r-stretch" src="img/clippy.jpg"></li>
</ul>
<hr />
<h3
id="clipping-is-when-the-amplitude-of-your-signal-is-greater-than-you-can-sample">Clipping
is when the amplitude of your signal is greater than you can sample</h3>
<ul>
<li><p>The signal’s amplitude is greater than your capturable
<em>dynamic range</em></p></li>
<li><p>You lose the ‘tops’ of the waveform and sample a straight line of
samples at the top of your</p></li>
</ul>
<hr />
<h3 id="clipping-of-a-speech-signal">Clipping of a speech signal</h3>
<p><img class="r-stretch" src="phonmedia/clipping.png"></p>
<hr />
<h3 id="clipping-is-really-really-bad">Clipping is <em>really, really
bad</em></h3>
<ul>
<li>… because the signal is captured <em>exactly as it was
measured</em></li>
</ul>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_orig.png"></p>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_orig_fft.png"></p>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_cutoff.png"></p>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_clipped.png"></p>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_orig_fft.png"></p>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_clipped_fft.png"></p>
<hr />
<h3 id="clipping-introduces-massive-spectral-garbage">Clipping
introduces <em>massive spectral garbage</em></h3>
<ul>
<li><p>Anything in the spectral or cepstral domain is going to go
wild</p></li>
<li><p>There’s no way to filter your way out of this <em>because the
input sucks</em></p></li>
</ul>
<hr />
<h3 id="clipping-is-also-bad-for-output">Clipping is also bad for
output</h3>
<ul>
<li><p>It also is very bad for speakers to play back clipped
sound</p></li>
<li><p>If your amplifier can’t create the full dynamic range for
playback, you’ll get clipping too</p></li>
</ul>
<hr />
<p><img class="r-stretch" src="diagrams/sampling_clip_clipped.png"></p>
<hr />
<h3 id="above-all-else-do-not-clip">Above all else, do not clip!</h3>
<ul>
<li>Because then you’re up a creek without a signal</li>
</ul>
<hr />
<h3 id="wrapping-up">Wrapping up</h3>
<ul>
<li><p>We want to remove as much noise as possible without removing
signal</p></li>
<li><p>Many things filter sound, even without fancy digital
methods</p></li>
<li><p>We can be very fancy about filtering, if we can spare some
compute power</p></li>
<li><p>Life is better if you can optimize the input signal before you
have to start filtering</p></li>
<li><p>Nothing will save you if you’re clipping</p></li>
</ul>
<hr />
<h3 id="next-time">Next time</h3>
<ul>
<li><p>So, what does sound look like sitting on a computer’s disk?</p>
<ul>
<li>… and do the files really need to be that big?</li>
</ul></li>
</ul>
<hr />
<p><huge>Thank you!</huge></p>
</body>
</html>
